services:
  devcontainer:
    build: ./.devcontainer
    command:
      - sleep
      - infinity
    environment:
      JEST_JUNIT_OUTPUT_DIR: ${JEST_JUNIT_OUTPUT_DIR:-}
      JEST_JUNIT_OUTPUT_NAME: ${JEST_JUNIT_OUTPUT_NAME:-result.xml}
      YARN_CACHE_FOLDER: /home/yarn-cache
    user: 1000:1000
    volumes:
      - .:/srv/app
      - ${HOST_YARN_CACHE_FOLDER:-~/.cache/yarn}:/home/yarn-cache
      - ${HOST_YARN_CONFIG_FOLDER:-~/.config/yarn}:/.yarn
      - ${HOST_YARN_CONFIG_FILE:-~/.yarnrc}:/.yarnrc
    working_dir: /srv/app
